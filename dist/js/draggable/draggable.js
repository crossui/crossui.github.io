!function(e,t){"use strict";var o="draggable",a={container:"body",move:!0},n=0,s=function(t,o){var s=this;s.$=e(t),s.id=n++,s.options=e.extend({},a,s.$.data(),o),s.init()};s.DEFAULTS=a,s.NAME=o,s.prototype.init=function(){var a,n,s,r,f,i=this,p=i.$,g="."+o+"."+i.id,d="mousedown"+g,l="mouseup"+g,y="mousemove"+g,v=i.options,u=v.selector,c=v.handle,m=p,x=function(e){var t=e.pageX,o=e.pageY;f=!0;var n={left:t-s.x,top:o-s.y};m.removeClass("drag-ready").addClass("dragging"),v.move&&m.css(n),v.drag&&v.drag({event:e,element:m,startOffset:s,pos:n,offset:{x:t-a.x,y:o-a.y},smallOffset:{x:t-r.x,y:o-r.y}}),r.x=t,r.y=o,v.stopPropagation&&e.stopPropagation()},h=function(o){if(e(t).off(g),f){var n={left:o.pageX-s.x,top:o.pageY-s.y};m.removeClass("drag-ready dragging"),v.move&&m.css(n),v.finish&&v.finish({event:o,element:m,startOffset:s,pos:n,offset:{x:o.pageX-a.x,y:o.pageY-a.y},smallOffset:{x:o.pageX-r.x,y:o.pageY-r.y}}),o.preventDefault(),v.stopPropagation&&o.stopPropagation()}else m.removeClass("drag-ready")},b=function(o){var i=e(this);if(u&&(m=c?i.closest(u):i),!v.before||!1!==v.before({event:o,element:m})){var p=e(v.container),g=m.offset();n=p.offset(),a={x:o.pageX,y:o.pageY},s={x:o.pageX-g.left+n.left,y:o.pageY-g.top+n.top},r=e.extend({},a),f=!1,m.addClass("drag-ready"),o.preventDefault(),v.stopPropagation&&o.stopPropagation(),e(t).on(y,x).on(l,h)}};c?p.on(d,c,b):u?p.on(d,u,b):p.on(d,b)},s.prototype.destroy=function(){var a="."+o+"."+this.id;this.$.off(a),e(t).off(a),this.$.data(o,null)},e.fn.draggable=function(t){return this.each(function(){var a=e(this),n=a.data(o),r="object"==typeof t&&t;n||a.data(o,n=new s(this,r)),"string"==typeof t&&n[t]()})},e.fn.draggable.Constructor=s}(jQuery,document);