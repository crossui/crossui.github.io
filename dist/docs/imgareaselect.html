<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>imgareaselect</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="../iconfont/iconfont.css">
    <link rel="stylesheet" href="../css/cross.css">
    <link rel="stylesheet" href="../css/highlight.css">
    <link rel="stylesheet" href="../css/imgareaselect.css">
</head>
<body>
<div class="p-medium">

    <fieldset class="c-field">
        <legend>引用</legend>
        <div class="c-field-box">
<pre><code class="html c-break">
    &lt;link rel="stylesheet" href="../css/imgareaselect.css" /&gt;
    &lt;script type="text/javascript" src="../js/imgareaselect/imgareaselect.js"&gt;&lt;/script&gt;
</code></pre>
        </div>
    </fieldset>


    <div class="c-border p-small border-radius-rounded mt-medium">

        <div class="imgareaselect-wrap clearfix c-position-r">
            <div class="imgareaselect-img-big fl" style="width:400px; height:300px"><img src="../images/demo/287164.jpg" style="width:400px; height:300px"></div>
        </div>
        <form action="#" method="post">
            <input type="hidden" name="x1" value="">
            <input type="hidden" name="y1" value="">
            <input type="hidden" name="x2" value="">
            <input type="hidden" name="y2" value="">
        </form>

        <fieldset class="c-field c-field-title mt-medium">
            <legend class="fs6">图片裁剪</legend>
        </fieldset>
        <div class="c-field-box c-position-r">
            <div class="c-position-a" style="top: 0; right: 0">
                <a data-toggle="collapse" data-parent="#accordion" href="#imgareaselect1" class="border-radius-circle c-border"><i class="iconfont icon-angledown c-gray"></i></a>
            </div>
            <div class="introduce">
                内容区域
            </div>
        </div>

        <div id="imgareaselect1" class="c-panel-bd c-panel-collapse mt-medium">
            <div class="tabs tabs-thr tabs-thr-medium c-position-r" data-toggle="tabs">
                <div class="tabs-hd clearfix">
                    <a href="javascript:;" class="curr"><span>HTML</span></a>
                    <a href="javascript:;"><span>Javascript</span></a>
                </div>
                <div class="tabs-bd">
                    <div class="tabs-bd-box c-hide curr p-small">
<pre><code class="html c-break">
    &lt;div class="imgareaselect-wrap clearfix c-position-r"&gt;
        &lt;div class="imgareaselect-img-big fl" style="width:400px; height:300px;"&gt;&lt;img src="../images/demo/287164.jpg" style="width:400px; height:300px;" /&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;form action="#" method="post"&gt;
        &lt;input type="hidden" name="x1" value="" /&gt;
        &lt;input type="hidden" name="y1" value="" /&gt;
        &lt;input type="hidden" name="x2" value="" /&gt;
        &lt;input type="hidden" name="y2" value="" /&gt;
    &lt;/form&gt;

</code></pre>
                    </div>
                    <div class="tabs-bd-box c-hide p-small">
<pre><code class="javascript">
    function preview(img, selection) {
        var scaleX = 100 / (selection.width || 1);
        var scaleY = 100 / (selection.height || 1);

        $('.imgareaselect-img-big + div> img').css({
            width: Math.round(scaleX * 400) + 'px',
            height: Math.round(scaleY * 300) + 'px',
            marginLeft: '-' + Math.round(scaleX * selection.x1) + 'px',
            marginTop: '-' + Math.round(scaleY * selection.y1) + 'px'
        });
    }

    $('&lt;div class="imgareaselect-img-small fl ml-medium c-position-r c-hidden"&gt;&lt;img src="../images/demo/287164.jpg" style="position: relative;" /&gt;&lt;div&gt;').insertAfter($('.imgareaselect-img-big'));

    $('.imgareaselect-img-big').imgAreaSelect({ aspectRatio: '1:1', onSelectChange: preview});

    $('.imgareaselect-img-big').imgAreaSelect({
        onSelectEnd: function (img, selection) {
            $('input[name="x1"]').val(selection.x1);
            $('input[name="y1"]').val(selection.y1);
            $('input[name="x2"]').val(selection.x2);
            $('input[name="y2"]').val(selection.y2);
        }
    });

</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="mt-big">
        <h2>参数</h2>
        <table class="tb tb-b c-100 mt-small">
            <tbody>
            <tr>
                <th>参数</th>
                <th>描述</th>
            </tr>
            <tr>
                <td>aspectRatio</td>
                <td>设定选取区域的<strong>显示比率</strong>，如：”4:3“</td>
            </tr>
            <tr>
                <td>autoHide</td>
                <td><div dir="ltr">如果设置为true，当选择区域选择结束时消失，默认值为：false</div></td>
            </tr>
            <tr>
                <td>classPrefix</td>
                <td>这是一个字符串，表示插件样式的类名加前缀，默认值为"imgareaselect"</td>
            </tr>
            <tr>
                <td>disable</td>
                <td>如果设置为true，禁用插件</td>
            </tr>
            <tr>
                <td>enable</td>
                <td><div dir="ltr">如果设置为true，插件被重新启用</div></td>
            </tr>
            <tr>
                <td>fadeSpeed</td>
                <td>如果设置为大于零的数字，则用优美的淡入/淡出动画来显示图片，默认值为 false</td>
            </tr>
            <tr>
                <td>handles</td>
                <td>如果设置为true，调整手柄则会显示在选择区域内，如果设置为"corners"，则只有角处理会显示调整手柄，默认值为false</td>
            </tr>
            <tr>
                <td>hide</td>
                <td><div dir="ltr">如果设置为true，选择范围是隐藏</div></td>
            </tr>
            <tr>
                <td>imageHeight</td>
                <td>图片的真实高度 (if scaled with the CSSwidthandheightproperties)</td>
            </tr>
            <tr>
                <td>imageWidth</td>
                <td>真实图片宽度 (if scaled with the CSSwidthandheightproperties)</td>
            </tr>
            <tr>
                <td>instance</td>
                <td>如果设置为true，imgAreaSelect() 调用返回一个imgAreaSelect绑定到的图像的实例，使您可以使用它的API方法</td>
            </tr>
            <tr>
                <td>keys</td>
                <td>启用/禁用键盘支持，默认值为false</td>
            </tr>
            <tr>
                <td>maxHeight</td>
                <td>选取的最大高度（单位为像素）</td>
            </tr>
            <tr>
                <td>maxWidth</td>
                <td>选取的最大宽度（单位为像素）</td>
            </tr>
            <tr>
                <td>minHeight</td>
                <td>选取的最小高度（单位为像素）</td>
            </tr>
            <tr>
                <td>minWidth</td>
                <td>选取的最小宽度（单位为像素）</td>
            </tr>
            <tr>
                <td>movable</td>
                <td><div dir="ltr">确定选取是否可以移动，默认值为true</div></td>
            </tr>
            <tr>
                <td>parent</td>
                <td><div dir="ltr">一个jQuery对象或选择字符串，指定被追加到父元素，默认值为"body"</div></td>
            </tr>
            <tr>
                <td>persistent</td>
                <td>如果设置为true，选择区以外的点击将不会启动一个新的选区（即用户将只能移动/调整现有的选择范围），默认值为false</td>
            </tr>
            <tr>
                <td>resizable</td>
                <td><div dir="ltr">确定是否选择面积应可调整大小，默认值为true</div></td>
            </tr>
            <tr>
                <td>show</td>
                <td><div dir="ltr">如果设置为true，选区则会显示</div></td>
            </tr>
            <tr>
                <td>x1<br>y1</td>
                <td><div dir="ltr">最初选择区域的左上角坐标</div></td>
            </tr>
            <tr>
                <td>x2<br>y2</td>
                <td>最初选择区域的右上角坐标</td>
            </tr>
            <tr>
                <td>zIndex</td>
                <td>插件元素的z-index值，正常情况下imgAreaSelect会自动分配，但有少数情况，有必要将其设置为制定值</td>
            </tr>
            <tr>
                <td>onInit</td>
                <td>插件初始化时的回调函数</td>
            </tr>
            <tr>
                <td>onSelectStart</td>
                <td>插件开始选择时的回调函数</td>
            </tr>
            <tr>
                <td>onSelectChange</td>
                <td>插件改变选区时的回调函数</td>
            </tr>
            <tr>
                <td>onSelectEnd</td>
                <td>插件结束选区时的回调函数</td>
            </tr>

            </tbody>
        </table>
    </div>

</div>
<script type="text/javascript" src="../js/jquery.js"></script>
<script type="text/javascript" src="../js/cross.js"></script>
<script type="text/javascript" src="../js/highlight/highlight.js"></script>
<script type="text/javascript" src="../js/imgareaselect/imgareaselect.js"></script>
<script type="text/javascript">
    $(function(){
        $('pre code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
    });
</script>
<script type="text/javascript">
    $(function(){
        function preview(img, selection) {
            var scaleX = 100 / (selection.width || 1);
            var scaleY = 100 / (selection.height || 1);

            $('.imgareaselect-img-big + div> img').css({
                width: Math.round(scaleX * 400) + 'px',
                height: Math.round(scaleY * 300) + 'px',
                marginLeft: '-' + Math.round(scaleX * selection.x1) + 'px',
                marginTop: '-' + Math.round(scaleY * selection.y1) + 'px'
            });
        }

        $('<div class="imgareaselect-img-small fl ml-medium c-position-r c-hidden"><img src="../images/demo/287164.jpg" style="position: relative;" /><div>').insertAfter($('.imgareaselect-img-big'));

        $('.imgareaselect-img-big').imgAreaSelect({ aspectRatio: '1:1', onSelectChange: preview});

        $('.imgareaselect-img-big').imgAreaSelect({
            onSelectEnd: function (img, selection) {
                $('input[name="x1"]').val(selection.x1);
                $('input[name="y1"]').val(selection.y1);
                $('input[name="x2"]').val(selection.x2);
                $('input[name="y2"]').val(selection.y2);
            }
        });

    });
</script>
</body>
</html>

