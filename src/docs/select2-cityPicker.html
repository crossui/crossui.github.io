<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>select2 cityPicker</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="../iconfont/iconfont.css">
    <link rel="stylesheet" href="../css/cross.css">
    <link rel="stylesheet" href="../css/docs.css">
    <link rel="stylesheet" href="../css/highlight.css">
</head>
<body>
<div class="p-medium">
    <fieldset class="c-field">
        <legend>引用</legend>
        <div class="c-field-box">
<pre><code class="html c-break">
    &lt;script type="text/javascript" src="../js/cityPicker/cityPicker.js"&gt;&lt;/script&gt;
</code></pre>
        </div>
    </fieldset>

    <div class="c-border p-small border-radius-rounded mt-medium">


        <select id="cityPickerProvince" class="w150"></select>

        <select id="cityPickerCity" class="w150"></select>

        <select id="cityPickerTown" class="w150"></select>



        <br><br><br><br>

        <a id="getval" href="javascript:;" class="button button-primary">取值</a>
        <a id="getval2" href="javascript:;" class="button button-primary">取值2</a>
        <a id="setval" href="javascript:;" class="button button-primary">设值</a>
        <a id="reset" href="javascript:;" class="button button-primary">重置</a>
        <a id="validate" href="javascript:;" class="button button-primary">验证</a>
        <a id="listener" href="javascript:;" class="button button-primary">监听</a>

        <fieldset class="c-field c-field-title mt-medium">
            <legend class="fs6">城市三级联动</legend>
        </fieldset>
        <div class="c-field-box c-position-r">
            <div class="c-position-a" style="top: 0; right: 0">
                <a data-toggle="collapse" data-parent="#accordion" href="#cityPicker" class="border-radius-circle c-border "><i class="iconfont icon-angledown c-gray"></i></a>
            </div>
            <div class="introduce">
                城市三级联动
            </div>
        </div>

        <div id="cityPicker" class="c-panel-bd c-panel-collapse mt-medium">
            <div class="tabs tabs-thr tabs-thr-medium c-position-r" data-toggle="tabs">
                <div class="tabs-hd clearfix">
                    <a href="javascript:;" class="curr"><span>HTML</span></a>
                    <a href="javascript:;"><span>Javascript</span></a>
                </div>
                <div class="tabs-bd">
                    <div class="tabs-bd-box c-hide curr p-small">
<pre><code class="html c-break">
    &lt;select id="cityPickerProvince" class="w150"&gt;&lt;/select&gt;

    &lt;select id="cityPickerCity" class="w150"&gt;&lt;/select&gt;

    &lt;select id="cityPickerTown" class="w150"&gt;&lt;/select&gt;
</code></pre>
                    </div>
                    <div class="tabs-bd-box c-hide p-small">
<pre><code class="javascript">
    //初始
    var citySelect = new cityPicker("#cityPickerProvince","#cityPickerCity","#cityPickerTown");

    //取最后一个值
    var d = citySelect.getValue();
    alert(d);

    //取全部的值 并设置连接符
    var d = citySelect.getValue(',');
    alert(d);

    //设值
    citySelect.setValue("350000,350100,350102");

    //重置
    citySelect.reset();

    //验证
    var cityVal = citySelect.getValue(',');
    var b = citySelect.validate(cityVal,',',3);
    alert(b);

    //监听
    citySelect.listener(',',3,function(val){
        alert(val);
    })
</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

<script type="text/javascript" src="../js/jquery.js"></script>
<script type="text/javascript" src="../js/cross.js"></script>
<script type="text/javascript" src="../js/cityPicker/cityPicker.js"></script>
<script type="text/javascript" src="../js/highlight/highlight.js"></script>
<script type="text/javascript">
    $(function(){
        $('pre code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
    });
</script>
<script type="text/javascript">
    $(function(){
        var citySelect = new cityPicker("#cityPickerProvince","#cityPickerCity","#cityPickerTown");

        $('#getval').click(function(){
            var d = citySelect.getValue();
            alert(d);
        });
        $('#getval2').click(function(){
            var d = citySelect.getValue(',');
            alert(d);
        });
        $('#setval').click(function(){
            citySelect.setValue("350000,350100,350102");
        });

        $('#reset').on('click',function(){
            citySelect.reset();
        });
        $('#validate').on('click',function(){
            var cityVal = citySelect.getValue(',');
            var b = citySelect.validate(cityVal,',',3);
            alert(b);
        });

        $('#listener').on('click',function(){
            citySelect.listener(',',3,function(val){
                alert(val);
            })
        });
    });

</script>
</body>
</html>

